The United States has completed the withdrawal of its troops from Afghanistannearly 20 years after it invaded the country in the wake of the September 11, 2001, attacks on America, Pentagon officials have confirmed. Evacuation flights from Afghanistan came to an end ahead of the negotiated deadline of August 31, with more than 120,000 people airlifted out of the country in the last two weeks. The departure of the last US military flights puts an end to the country’s withdrawal that was rushed by the Taliban’s quick takeover of Afghanistan and threatened by a suicide attack that the Islamic State’s affiliate in Afghanistan claimed responsibility for. US general Kenneth McKenzie, commander of US central command, told a press conference on Monday: “I’m here to announce the completion of our withdrawal from Afghanistan and the end to the military mission to evacuate American citizens, third-country nationals, and vulnerable Afghans.” The departure of the last C-17 plane prompted Taliban fighters to celebrate with wild gunfire, reporters on the ground said. The Pentagon said there were no non-military Americans on the last military flights, and that it believes the number of Americans left in the country is in the “very low hundreds”. McKenzie said the final flights did not include some dozens of Americans who could not get to the airport. “There’s a lot of heartbreak associated with this departure. We did not get everybody out that we wanted to get out. But I think if we’d stayed another 10 days, we wouldn’t have gotten everybody out,” McKenzie told reporters. The departure came amid more violence and bloodshed. US anti-missile defences had intercepted rockets fired at Kabul’s airport, and again Islamic State claimed responsibility.  In recent days, Washington has warned of more attacks, while carrying out two air strikes. It said both hit Islamic State targets, one thwarting an attempted suicide bombing in Kabul on Sunday by destroying a car packed with explosives, but which Afghans said had struck civilians. Western allies agreed to remove all of their troops from the Taliban-controlled country by the end of the month after the militants warned Nato there would be “consequences” to face if this deadline was not met. Evacuation have been winding down over the last week in preparation for flying foreign military out of Kabul airport, with assistance from the Taliban. US president Joe Biden set August 31 deadline for the departure – despite pleas from his European allies for an extension – as he believed the US troops faced mounting danger if they stayed any longer. In the final week before all troops were due to leave Afghanistan, concerns over a potential terror threat grew. On Thursday, an affiliate of the so-called Islamic State group, Isis-K, took responsibility for the two suicide bombings outside Kabul airport which killed at least 90 civilians and 13 US Army personnel. The UK’s evacuation process went into its “final hours” on Friday and called no more people forward for UK resettlement. Some countries such as Canada had already stopped flying people out by then. Around 15,000 people were flown out of Afghanistan in the last two weeks of August for resettlement in the UK. Prime minister Boris Johnson claimed that this was the “overwhelming majority” of the eligible evacuees – although several MPs strongly disagreed and claimed the government had not helped enough people. Biden has promised that US commanders will strike back at Isis-K after their attack. The international community is now facing major decisions over how to deal with the Taliban. The new regime in Afghanistan faces pressure to respect human rights and provide safe passage for those who wish to escape its rule following the passage of a UN Security Council resolution. The council adopted a resolution in New York – with Russia and China abstaining rather than wielding their vetoes – in what the UK hopes is a step towards a unified international response. But the resolution effectively acknowledges that it is now up to the Taliban to decide whether people can leave Afghanistan after the conclusion of the US evacuation effort brought America’s military presence to an end, two decades after the 2001 invasion. Prime minister Johnson said: “Tonight’s UN Security Council resolution, led by the UK with our allies, makes clear that the international community stands with Afghans. “There can be no return to repression or terror. We will push as one voice for safe passage, humanitarian access and respect for human rights.”